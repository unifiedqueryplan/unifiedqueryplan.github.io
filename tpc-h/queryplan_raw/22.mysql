EXPLAIN
{\n  "query_block": {\n    "select_id": 1,\n    "cost_info": {\n      "query_cost": "5641.89"\n    },\n    "ordering_operation": {\n      "using_filesort": false,\n      "grouping_operation": {\n        "using_temporary_table": true,\n        "using_filesort": true,\n        "cost_info": {\n          "sort_cost": "1458.52"\n        },\n        "nested_loop": [\n          {\n            "table": {\n              "table_name": "CUSTOMER",\n              "access_type": "ALL",\n              "rows_examined_per_scan": 4376,\n              "rows_produced_per_join": 1458,\n              "filtered": "33.33",\n              "cost_info": {\n                "read_cost": "97.00",\n                "eval_cost": "145.85",\n                "prefix_cost": "534.60",\n                "data_read_per_join": "1M"\n              },\n              "used_columns": [\n                "C_CUSTKEY",\n                "C_PHONE",\n                "C_ACCTBAL"\n              ],\n              "attached_condition": "((substr(`tpch`.`CUSTOMER`.`C_PHONE`,1,2) in ('20','40','22','30','39','42','21')) and (`tpch`.`CUSTOMER`.`C_ACCTBAL` > (/* select#3 */ select avg(`tpch`.`CUSTOMER`.`C_ACCTBAL`) from `tpch`.`CUSTOMER` where ((`tpch`.`CUSTOMER`.`C_ACCTBAL` > 0.00) and (substr(`tpch`.`CUSTOMER`.`C_PHONE`,1,2) in ('20','40','22','30','39','42','21'))))))",\n              "attached_subqueries": [\n                {\n                  "dependent": false,\n                  "cacheable": true,\n                  "query_block": {\n                    "select_id": 3,\n                    "cost_info": {\n                      "query_cost": "534.60"\n                    },\n                    "table": {\n                      "table_name": "CUSTOMER",\n                      "access_type": "ALL",\n                      "rows_examined_per_scan": 4376,\n                      "rows_produced_per_join": 1458,\n                      "filtered": "33.33",\n                      "cost_info": {\n                        "read_cost": "388.75",\n                        "eval_cost": "145.85",\n                        "prefix_cost": "534.60",\n                        "data_read_per_join": "1M"\n                      },\n                      "used_columns": [\n                        "C_PHONE",\n                        "C_ACCTBAL"\n                      ],\n                      "attached_condition": "((`tpch`.`CUSTOMER`.`C_ACCTBAL` > 0.00) and (substr(`tpch`.`CUSTOMER`.`C_PHONE`,1,2) in ('20','40','22','30','39','42','21')))"\n                    }\n                  }\n                }\n              ]\n            }\n          },\n          {\n            "table": {\n              "table_name": "ORDERS",\n              "access_type": "ref",\n              "possible_keys": [\n                "ORDERS_FK1"\n              ],\n              "key": "ORDERS_FK1",\n              "used_key_parts": [\n                "O_CUSTKEY"\n              ],\n              "key_length": "4",\n              "ref": [\n                "tpch.CUSTOMER.C_CUSTKEY"\n              ],\n              "rows_examined_per_scan": 14,\n              "rows_produced_per_join": 1458,\n              "filtered": "100.00",\n              "not_exists": true,\n              "using_index": true,\n              "cost_info": {\n                "read_cost": "1478.27",\n                "eval_cost": "145.85",\n                "prefix_cost": "4183.37",\n                "data_read_per_join": "672K"\n              },\n              "used_columns": [\n                "O_ORDERKEY",\n                "O_CUSTKEY"\n              ],\n              "attached_condition": "<if>(is_not_null_compl(ORDERS), <if>(found_match(ORDERS), false, true), true)"\n            }\n          }\n        ]\n      }\n    }\n  }\n}
